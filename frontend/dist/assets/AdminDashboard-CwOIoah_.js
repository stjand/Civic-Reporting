import{r as o,j as e,R as ae}from"./index-B56o66qZ.js";import{L as h,C as K,T as O,D as P,X as re,P as oe,b as ne,E as V,a as le}from"./leaflet-y9bmtEzs.js";import{c as l}from"./createLucideIcon-CpBPnihH.js";import{Z as ie,M as ce,A as de}from"./zap-CGGewMOR.js";import{F as ge}from"./file-text-CwOH4Mv3.js";import{M as me,C as ue}from"./map-pin-BzqeEGVC.js";/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],xe=l("bell",he);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],q=l("building-2",pe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],fe=l("chevron-down",be);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],we=l("chevron-left",ye);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Ne=l("chevron-right",je);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],ke=l("crown",ve);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Ce=l("download",Ae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Se=l("eye",Me);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Z=l("funnel",Re);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Ee=l("image",ze);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Le=l("log-out",Be);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Ue=l("message-square",Te);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],He=l("refresh-cw",De);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Ie=l("search",Fe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Ke=l("send",Je);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Pe=l("settings",Oe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],qe=l("volume-2",Ve),Ze="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",We="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC",Xe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAABSCAMAAAAhFXfZAAAC91BMVEVMaXEzeak2f7I4g7g3g7cua5gzeKg8hJo3grY4g7c3grU0gLI2frE0daAubJc2gbQwd6QzeKk2gLMtd5sxdKIua5g1frA2f7IydaM0e6w2fq41fK01eqo3grgubJgta5cxdKI1f7AydaQydaMxc6EubJgvbJkwcZ4ubZkwcJwubZgubJcydqUydKIxapgubJctbJcubZcubJcvbJYubJcvbZkubJctbJctbZcubJg2f7AubJcrbZcubJcubJcua5g3grY0fq8ubJcubJdEkdEwhsw6i88vhswuhcsuhMtBjMgthMsrg8srgss6is8qgcs8i9A9iMYtg8spgcoogMo7hcMngMonf8olfso4gr8kfck5iM8jfMk4iM8he8k1fro7itAgesk2hs8eecgzfLcofssdeMg0hc4cd8g2hcsxeLQbdsgZdcgxeLImfcszhM0vda4xgckzhM4xg84wf8Yxgs4udKsvfcQucqhUndROmdM1fK0wcZ8vb5w0eqpQm9MzeKhXoNVcpdYydKNWn9VZotVKltJFjsIwcJ1Rms9OlslLmtH///8+kc9epdYzd6dbo9VHkMM2f7FHmNBClM8ydqVcpNY9hro3gLM9hLczealQmcw3fa46f7A8gLMxc6I3eagyc6FIldJMl9JSnNRSntNNl9JPnNJFi75UnM9ZodVKksg8kM45jc09e6ZHltFBk883gbRBh7pDk9EwcaBzn784g7dKkcY2i81Om9M7j85Llc81is09g7Q4grY/j9A0eqxKmdFFltBEjcXf6fFImdBCiLxJl9FGlNFBi78yiMxVndEvbpo6js74+vx+psPP3+o/ks5HkcpGmNCjwdZCkNDM3ehYoNJEls+lxNkxh8xHks0+jdC1zd5Lg6r+/v/H2ufz9/o3jM3t8/edvdM/k89Th61OiLBSjbZklbaTt9BfptdjmL1AicBHj8hGk9FAgK1dkLNTjLRekrdClc/k7fM0icy0y9tgp9c4jc2NtM9Dlc8zicxeXZn3AAAAQ3RSTlMAHDdTb4yPA+LtnEQmC4L2EmHqB7XA0d0sr478x4/Yd5i1zOfyPkf1sLVq4Nh3FvjxopQ2/STNuFzUwFIwxKaejILpIBEV9wAABhVJREFUeF6s1NdyFEcY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";let _e=h.icon({iconUrl:Ze,iconRetinaUrl:Xe,shadowUrl:We,iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]});h.Marker.prototype.options.icon=_e;const ts=()=>{const C=o.useRef(null),d=o.useRef(null),M=o.useRef({}),[t,S]=o.useState(null),[x,R]=o.useState([]),[j,W]=o.useState("all"),[L,T]=o.useState(!1),[p,X]=o.useState(""),[N,_]=o.useState("all"),[v,Q]=o.useState("all"),[k,U]=o.useState(!1),[y,D]=o.useState(!0),[z,Y]=o.useState(null),[A,H]=o.useState(""),[b,F]=o.useState(!1),[u,I]=o.useState({total:0,new:0,inProgress:0,resolved:0}),[g,J]=o.useState(!1),m={name:"Dr. Rajesh Kumar",designation:"Chief Municipal Officer",department:"Municipal Corporation",avatar:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=40&h=40&fit=crop&crop=face"},G=[{id:"all",name:"All Departments",icon:q,color:"bg-blue-600",count:0},{id:"municipal",name:"Municipal",icon:q,color:"bg-indigo-600",count:0},{id:"electrical",name:"Electrical",icon:ie,color:"bg-yellow-600",count:0},{id:"roads",name:"Roads & Infrastructure",icon:K,color:"bg-orange-600",count:0},{id:"sanitation",name:"Sanitation",icon:O,color:"bg-green-600",count:0},{id:"water",name:"Water & Drainage",icon:P,color:"bg-cyan-600",count:0}],w=[{id:1,title:"Severe pothole causing traffic delays",description:"Large pothole on MG Road junction causing significant traffic congestion and vehicle damage. Multiple complaints received from citizens. The pothole is approximately 3 feet wide and 8 inches deep, making it dangerous for vehicles especially during night hours.",category:"pothole",department:"roads",status:"new",priority:"high",urgency_score:9,location:{lat:12.9716,lng:77.5946},address:"MG Road Junction, Near City Center, Bengaluru, Karnataka, India",user_name:"Rajesh Kumar",created_at:"2024-01-20T10:30:00Z",image_urls:["https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400&h=300&fit=crop","https://images.unsplash.com/photo-1541888946425-d81bb19240f5?w=400&h=300&fit=crop"],audio_url:null,updates:[]},{id:2,title:"Overflowing waste bins in residential area",description:"Multiple garbage bins overflowing for the past 5 days in Brigade Road area. Creating health hazards and attracting stray animals. The waste is spilling onto the street and creating an unhygienic environment.",category:"garbage",department:"sanitation",status:"in_progress",priority:"medium",urgency_score:6,location:{lat:12.9352,lng:77.6245},address:"Brigade Road, Commercial Street Area, Bengaluru, Karnataka, India",user_name:"Priya Sharma",created_at:"2024-01-19T14:45:00Z",image_urls:["https://images.unsplash.com/photo-1532996122724-e3c354a0b15b?w=400&h=300&fit=crop"],updates:[{message:"Waste collection team has been notified and scheduled for tomorrow morning. Additional bins will be placed in the area.",timestamp:"2024-01-20T09:00:00Z",officer:"Sanitation Department"}]},{id:3,title:"Street lighting system malfunction",description:"Entire street lighting system in Koramangala 5th Block has been non-functional for over a week, creating safety concerns for residents. The transformer seems to have issues.",category:"streetlight",department:"electrical",status:"acknowledged",priority:"high",urgency_score:7,location:{lat:12.9279,lng:77.6271},address:"Koramangala 5th Block, Main Road, Bengaluru, Karnataka, India",user_name:"Amit Patel",created_at:"2024-01-18T20:15:00Z",image_urls:["https://images.unsplash.com/photo-1518709268805-4e9042af2ac1?w=400&h=300&fit=crop"],updates:[]},{id:4,title:"Water pipe burst - Emergency",description:"Major water pipeline burst on Whitefield Main Road causing severe flooding and traffic disruption. Water is flowing onto the main road creating dangerous driving conditions.",category:"water_leak",department:"water",status:"resolved",priority:"urgent",urgency_score:10,location:{lat:12.9698,lng:77.75},address:"Whitefield Main Road, ITPL Area, Bengaluru, Karnataka, India",user_name:"Sunita Reddy",created_at:"2024-01-17T08:30:00Z",image_urls:["https://images.unsplash.com/photo-1581833971358-2c8b550f87b3?w=400&h=300&fit=crop"],updates:[{message:"Emergency response team dispatched immediately to assess the situation.",timestamp:"2024-01-17T08:45:00Z",officer:"Water Department"},{message:"Pipeline repair completed successfully. Water supply has been restored to all affected areas.",timestamp:"2024-01-17T15:30:00Z",officer:"Water Department"}]},{id:5,title:"Broken traffic signal at major intersection",description:"Traffic signal at the busy intersection of Residency Road and Brigade Road has been malfunctioning since yesterday, causing traffic chaos during peak hours.",category:"other",department:"municipal",status:"acknowledged",priority:"high",urgency_score:8,location:{lat:12.9698,lng:77.61},address:"Residency Road & Brigade Road Junction, Bengaluru, Karnataka, India",user_name:"Arjun Singh",created_at:"2024-01-21T07:15:00Z",image_urls:["https://images.unsplash.com/photo-1449824913935-59a10b8d2000?w=400&h=300&fit=crop"],updates:[{message:"Technical team assigned to inspect and repair the traffic signal system.",timestamp:"2024-01-21T10:30:00Z",officer:"Traffic Management"}]}];o.useEffect(()=>{(async()=>{D(!0);try{await new Promise(n=>setTimeout(n,1e3)),R(w);const a=w.filter(n=>n.status==="new").length,r=w.filter(n=>["acknowledged","in_progress"].includes(n.status)).length,c=w.filter(n=>n.status==="resolved").length;I({total:w.length,new:a,inProgress:r,resolved:c})}catch(a){console.error("Error loading data:",a)}finally{D(!1)}})()},[]),o.useEffect(()=>(C.current&&!d.current&&!y&&(d.current=h.map(C.current,{zoomControl:!1,attributionControl:!1}).setView([12.9716,77.5946],12),h.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"© OpenStreetMap contributors"}).addTo(d.current),h.control.zoom({position:"bottomright"}).addTo(d.current)),()=>{d.current&&(d.current.remove(),d.current=null)}),[y]),o.useEffect(()=>{!d.current||y||(Object.values(M.current).forEach(s=>{d.current.removeLayer(s)}),M.current={},f.forEach(s=>{if(s.location){const a={new:"#EF4444",acknowledged:"#F59E0B",in_progress:"#3B82F6",resolved:"#10B981"},r={urgent:16,high:14,medium:12,low:10},c=h.divIcon({className:"custom-marker",html:`
            <div class="relative cursor-pointer">
              <div class="flex items-center justify-center rounded-full border-3 border-white shadow-lg transform hover:scale-110 transition-transform duration-200" 
                   style="width: ${r[s.priority]||12}px; height: ${r[s.priority]||12}px; background-color: ${a[s.status]}">
              </div>
              <div class="absolute inset-0 rounded-full opacity-40 animate-ping"
                   style="background-color: ${a[s.status]}"></div>
            </div>
          `,iconSize:[r[s.priority]||12,r[s.priority]||12],iconAnchor:[(r[s.priority]||12)/2,(r[s.priority]||12)/2]}),n=h.marker([s.location.lat,s.location.lng],{icon:c}).addTo(d.current).on("click",()=>{S(s),T(!0)});M.current[s.id]=n}}))},[x,j,N,v,p,y]);const f=x.filter(s=>{const a=j==="all"||s.department===j,r=p===""||s.title.toLowerCase().includes(p.toLowerCase())||s.address.toLowerCase().includes(p.toLowerCase())||s.user_name.toLowerCase().includes(p.toLowerCase()),c=N==="all"||s.status===N,n=v==="all"||s.priority===v;return a&&r&&c&&n}),$=s=>({new:"bg-red-500",acknowledged:"bg-yellow-500",in_progress:"bg-blue-500",resolved:"bg-green-500"})[s]||"bg-gray-500",ee=s=>({urgent:"bg-red-100 text-red-800 border-red-200",high:"bg-orange-100 text-orange-800 border-orange-200",medium:"bg-yellow-100 text-yellow-800 border-yellow-200",low:"bg-green-100 text-green-800 border-green-200"})[s]||"bg-gray-100 text-gray-800 border-gray-200",se=s=>({pothole:K,garbage:O,streetlight:le,water_leak:P,other:V})[s]||V,E=async(s,a)=>{F(!0);try{await new Promise(i=>setTimeout(i,1e3)),R(i=>i.map(B=>B.id===s?{...B,status:a}:B)),t?.id===s&&S(i=>({...i,status:a}));const r=x.map(i=>i.id===s?{...i,status:a}:i),c=r.filter(i=>i.status==="new").length,n=r.filter(i=>["acknowledged","in_progress"].includes(i.status)).length,te=r.filter(i=>i.status==="resolved").length;I({total:r.length,new:c,inProgress:n,resolved:te})}catch(r){console.error("Error updating status:",r),alert("Failed to update report status")}finally{F(!1)}};return y?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"relative mb-4",children:[e.jsx("div",{className:"w-16 h-16 border-4 border-blue-200 rounded-full animate-spin"}),e.jsx("div",{className:"absolute top-0 left-0 w-16 h-16 border-4 border-transparent border-t-blue-600 rounded-full animate-spin"})]}),e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Loading Dashboard"}),e.jsx("p",{className:"text-gray-600",children:"Fetching the latest reports..."})]})}):e.jsxs("div",{className:"min-h-screen bg-gray-50 flex",children:[e.jsxs("div",{className:`bg-white border-r border-gray-200 flex flex-col transition-all duration-300 ${g?"w-16":"w-80"}`,children:[e.jsx("div",{className:`p-4 border-b border-gray-200 bg-gradient-to-r from-blue-600 to-indigo-600 text-white ${g?"px-2":""}`,children:g?e.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[e.jsx("img",{src:m.avatar,alt:m.name,className:"w-8 h-8 rounded-full border-2 border-white/20"}),e.jsx("button",{onClick:()=>J(!1),className:"p-1 hover:bg-white/10 rounded-md transition-colors",children:e.jsx(Ne,{className:"w-4 h-4"})})]}):e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("img",{src:m.avatar,alt:m.name,className:"w-12 h-12 rounded-full border-2 border-white/20"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-semibold text-white truncate",children:m.name}),e.jsx("p",{className:"text-blue-100 text-sm truncate",children:m.designation}),e.jsx("p",{className:"text-blue-200 text-xs truncate",children:m.department})]}),e.jsx("button",{onClick:()=>J(!0),className:"p-1 hover:bg-white/10 rounded-md transition-colors",children:e.jsx(we,{className:"w-4 h-4"})})]})}),!g&&e.jsxs("div",{className:"p-4 border-b border-gray-200",children:[e.jsxs("div",{className:"relative mb-3",children:[e.jsx(Ie,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search reports...",value:p,onChange:s=>X(s.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 bg-white text-gray-900 placeholder-gray-500 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 focus:outline-none transition-colors duration-200 rounded-lg"})]}),e.jsxs("button",{onClick:()=>U(!k),className:"w-full flex items-center justify-center space-x-2 px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors duration-200 text-sm font-medium",children:[e.jsx(Z,{className:"w-4 h-4"}),e.jsx("span",{children:"Filters"}),e.jsx(fe,{className:`w-4 h-4 transition-transform ${k?"rotate-180":""}`})]}),k&&e.jsxs("div",{className:"mt-3 space-y-2",children:[e.jsxs("select",{value:N,onChange:s=>_(s.target.value),className:"w-full p-2 border border-gray-300 bg-white rounded-lg text-sm focus:border-blue-500 focus:ring-1 focus:ring-blue-500 focus:outline-none",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"new",children:"New"}),e.jsx("option",{value:"acknowledged",children:"Acknowledged"}),e.jsx("option",{value:"in_progress",children:"In Progress"}),e.jsx("option",{value:"resolved",children:"Resolved"})]}),e.jsxs("select",{value:v,onChange:s=>Q(s.target.value),className:"w-full p-2 border border-gray-300 bg-white rounded-lg text-sm focus:border-blue-500 focus:ring-1 focus:ring-blue-500 focus:outline-none",children:[e.jsx("option",{value:"all",children:"All Priority"}),e.jsx("option",{value:"urgent",children:"Urgent"}),e.jsx("option",{value:"high",children:"High"}),e.jsx("option",{value:"medium",children:"Medium"}),e.jsx("option",{value:"low",children:"Low"})]})]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:e.jsx("div",{className:"space-y-2",children:G.map(s=>{const a=s.icon,r=j===s.id,c=s.id==="all"?x:x.filter(n=>n.department===s.id);return e.jsxs("button",{onClick:()=>W(s.id),className:`w-full flex items-center space-x-3 px-3 py-3 rounded-xl border-2 transition-all duration-200 ${r?"border-blue-500 bg-blue-50 shadow-sm":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"} ${g?"justify-center px-2":""}`,title:g?s.name:"",children:[e.jsx("div",{className:`p-2 rounded-lg ${r?"bg-blue-100":"bg-gray-100"}`,children:e.jsx(a,{className:`w-5 h-5 ${r?"text-blue-600":"text-gray-600"}`})}),!g&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex-1 text-left",children:[e.jsx("div",{className:"font-semibold text-gray-900",children:s.name}),e.jsxs("div",{className:"text-sm text-gray-500",children:[c.length," reports"]})]}),e.jsx("div",{className:`px-2 py-1 rounded-full text-xs font-medium ${r?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600"}`,children:f.filter(n=>s.id==="all"||n.department===s.id).length})]})]},s.id)})})}),!g&&e.jsxs("div",{className:"p-4 border-t border-gray-200 bg-gradient-to-r from-gray-50 to-gray-100",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-3 text-sm",children:"Quick Stats"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"text-center p-3 bg-white rounded-lg border shadow-sm",children:[e.jsx("div",{className:"text-lg font-bold text-red-600",children:u.new}),e.jsx("div",{className:"text-xs text-gray-600",children:"New"})]}),e.jsxs("div",{className:"text-center p-3 bg-white rounded-lg border shadow-sm",children:[e.jsx("div",{className:"text-lg font-bold text-yellow-600",children:u.inProgress}),e.jsx("div",{className:"text-xs text-gray-600",children:"In Progress"})]}),e.jsxs("div",{className:"text-center p-3 bg-white rounded-lg border shadow-sm",children:[e.jsx("div",{className:"text-lg font-bold text-green-600",children:u.resolved}),e.jsx("div",{className:"text-xs text-gray-600",children:"Resolved"})]}),e.jsxs("div",{className:"text-center p-3 bg-white rounded-lg border shadow-sm",children:[e.jsx("div",{className:"text-lg font-bold text-gray-600",children:u.total}),e.jsx("div",{className:"text-xs text-gray-600",children:"Total"})]})]})]}),!g&&e.jsx("div",{className:"p-4 border-t border-gray-200",children:e.jsxs("button",{className:"w-full flex items-center justify-center space-x-2 px-4 py-2 text-red-600 border border-red-200 rounded-lg hover:bg-red-50 transition-colors duration-200 text-sm font-medium",children:[e.jsx(Le,{className:"w-4 h-4"}),e.jsx("span",{children:"Logout"})]})})]}),e.jsxs("div",{className:"flex-1 flex flex-col",children:[e.jsx("div",{className:"bg-white border-b border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between h-16 px-6",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ke,{className:"w-6 h-6 text-blue-600"}),e.jsx("span",{className:"font-semibold text-lg text-gray-900",children:"Government Dashboard"})]}),e.jsx("div",{className:"h-4 w-px bg-gray-300"}),e.jsxs("div",{className:"text-sm text-gray-600",children:[f.length," of ",x.length," reports"]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("button",{className:"relative p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100 transition-colors",children:[e.jsx(xe,{className:"w-5 h-5"}),e.jsx("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full text-xs text-white flex items-center justify-center",children:u.new})]}),e.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100 transition-colors",children:e.jsx(He,{className:"w-5 h-5"})}),e.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100 transition-colors",children:e.jsx(Pe,{className:"w-5 h-5"})})]})]})}),e.jsxs("div",{className:"flex-1 relative",children:[e.jsx("button",{onClick:()=>U(!k),className:"absolute bottom-6 left-6 z-10 bg-blue-600 text-white p-4 rounded-full shadow-lg hover:bg-blue-700 transition-colors duration-200",children:e.jsx(Z,{className:"w-5 h-5"})}),e.jsx("div",{className:"absolute top-4 left-4 z-10 bg-white/95 backdrop-blur-sm rounded-lg shadow-lg border border-gray-200 p-3",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ce,{className:"w-4 h-4 text-blue-600"}),e.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[f.length," Reports Visible"]})]})}),e.jsxs("div",{className:"absolute top-4 right-4 z-10 bg-white/95 backdrop-blur-sm rounded-lg shadow-lg border border-gray-200 p-4",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-3 text-sm",children:"Status Legend"}),e.jsx("div",{className:"space-y-2",children:[{status:"new",label:"New Reports",color:"bg-red-500",count:u.new},{status:"acknowledged",label:"Acknowledged",color:"bg-yellow-500",count:f.filter(s=>s.status==="acknowledged").length},{status:"in_progress",label:"In Progress",color:"bg-blue-500",count:f.filter(s=>s.status==="in_progress").length},{status:"resolved",label:"Resolved",color:"bg-green-500",count:u.resolved}].map(({status:s,label:a,color:r,count:c})=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${r}`}),e.jsx("span",{className:"text-sm text-gray-700",children:a})]}),e.jsx("span",{className:"text-xs font-medium text-gray-500 bg-gray-100 px-2 py-1 rounded-full",children:c})]},s))}),e.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200",children:e.jsx("div",{className:"text-xs text-gray-500",children:"Click on any marker to view details"})})]}),e.jsx("div",{ref:C,className:"w-full h-full"})]})]}),e.jsx("div",{className:`bg-white border-l border-gray-200 transition-all duration-300 ease-in-out ${L?"w-96":"w-0"} overflow-hidden shadow-xl`,children:t&&L&&e.jsxs("div",{className:"w-96 h-full flex flex-col",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 bg-gradient-to-r from-gray-50 to-white",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Report Details"}),e.jsx("button",{onClick:()=>T(!1),className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100 transition-colors duration-200",children:e.jsx(re,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[e.jsxs("span",{className:"text-sm text-gray-500",children:["#",t.id]}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${ee(t.priority)}`,children:t.priority?.toUpperCase()}),e.jsx("div",{className:`w-3 h-3 rounded-full ${$(t.status)}`}),e.jsx("span",{className:"text-xs font-medium text-gray-600 capitalize",children:t.status.replace("_"," ")})]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-xl text-gray-900 mb-3 leading-tight",children:t.title}),e.jsx("p",{className:"text-gray-600 leading-relaxed",children:t.description})]}),e.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 rounded-xl p-4 border border-gray-200",children:[e.jsxs("h4",{className:"text-sm font-semibold text-gray-800 mb-3 flex items-center",children:[e.jsx(ge,{className:"w-4 h-4 mr-2"}),"Issue Information"]}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Category:"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[ae.createElement(se(t.category),{className:"w-4 h-4 text-gray-600"}),e.jsx("span",{className:"font-medium capitalize",children:t.category.replace("_"," ")})]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Urgency Score:"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full ${t.urgency_score>=8?"bg-red-500":t.urgency_score>=6?"bg-yellow-500":t.urgency_score>=4?"bg-blue-500":"bg-green-500"}`,style:{width:`${t.urgency_score*10}%`}})}),e.jsxs("span",{className:"font-bold text-gray-900",children:[t.urgency_score,"/10"]})]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Reporter:"}),e.jsx("span",{className:"font-medium",children:t.user_name})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Submitted:"}),e.jsx("span",{className:"font-medium",children:new Date(t.created_at).toLocaleDateString()})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl p-4 border border-blue-200",children:[e.jsxs("h4",{className:"text-sm font-semibold text-blue-800 mb-3 flex items-center",children:[e.jsx(me,{className:"w-4 h-4 mr-2"}),"Location Details"]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm text-blue-900 font-medium",children:t.address}),e.jsxs("p",{className:"text-xs text-blue-700",children:["Coordinates: ",t.location.lat.toFixed(4),", ",t.location.lng.toFixed(4)]})]})]}),t.image_urls&&t.image_urls.length>0&&e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-xl p-4 border border-purple-200",children:[e.jsxs("h4",{className:"text-sm font-semibold text-purple-800 mb-3 flex items-center",children:[e.jsx(Ee,{className:"w-4 h-4 mr-2"}),"Evidence Photos (",t.image_urls.length,")"]}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:t.image_urls.map((s,a)=>e.jsx("img",{src:s,alt:`Evidence ${a+1}`,className:"w-full h-24 object-cover rounded-lg border-2 border-white hover:opacity-90 transition-opacity cursor-pointer shadow-sm"},a))})]}),t.audio_url&&e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-xl p-4 border border-green-200",children:[e.jsxs("h4",{className:"text-sm font-semibold text-green-800 mb-3 flex items-center",children:[e.jsx(qe,{className:"w-4 h-4 mr-2"}),"Voice Note"]}),e.jsxs("button",{onClick:()=>Y(z===t.id?null:t.id),className:"flex items-center space-x-3 px-4 py-3 bg-white border-2 border-green-300 rounded-lg hover:bg-green-50 transition-colors text-sm font-medium w-full",children:[z===t.id?e.jsx(oe,{className:"w-5 h-5 text-green-600"}):e.jsx(ne,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"text-green-700",children:z===t.id?"Pause Audio":"Play Audio"})]})]}),t.updates&&t.updates.length>0&&e.jsxs("div",{className:"bg-gradient-to-br from-amber-50 to-amber-100 rounded-xl p-4 border border-amber-200",children:[e.jsxs("h4",{className:"text-sm font-semibold text-amber-800 mb-3 flex items-center",children:[e.jsx(de,{className:"w-4 h-4 mr-2"}),"Update History"]}),e.jsx("div",{className:"space-y-3",children:t.updates.map((s,a)=>e.jsxs("div",{className:"bg-white rounded-lg p-3 border border-amber-200",children:[e.jsx("p",{className:"text-sm text-gray-900 mb-2",children:s.message}),e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsx("span",{className:"text-amber-700 font-medium",children:s.officer}),e.jsx("span",{className:"text-amber-600",children:new Date(s.timestamp).toLocaleDateString()})]})]},a))})]})]})}),e.jsx("div",{className:"border-t border-gray-200 bg-gradient-to-r from-gray-50 to-white",children:e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"text-sm font-semibold text-gray-900 mb-3 flex items-center",children:[e.jsx(ue,{className:"w-4 h-4 mr-2"}),"Update Status"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx("button",{onClick:()=>E(t.id,"acknowledged"),disabled:t.status==="acknowledged"||b,className:"px-3 py-2 text-xs font-medium text-yellow-700 bg-yellow-50 border border-yellow-200 rounded-lg hover:bg-yellow-100 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:t.status==="acknowledged"?"✓ Acknowledged":"Acknowledge"}),e.jsx("button",{onClick:()=>E(t.id,"in_progress"),disabled:t.status==="in_progress"||t.status==="resolved"||b,className:"px-3 py-2 text-xs font-medium text-blue-700 bg-blue-50 border border-blue-200 rounded-lg hover:bg-blue-100 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:t.status==="in_progress"?"✓ In Progress":"Start Work"}),e.jsx("button",{onClick:()=>E(t.id,"resolved"),disabled:t.status==="resolved"||b,className:"col-span-2 px-3 py-2 text-xs font-medium text-green-700 bg-green-50 border border-green-200 rounded-lg hover:bg-green-100 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:t.status==="resolved"?"✓ Resolved":"Mark as Resolved"})]})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"text-sm font-semibold text-gray-900 mb-3 flex items-center",children:[e.jsx(Ue,{className:"w-4 h-4 mr-2"}),"Send Update to Citizen"]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("textarea",{value:A,onChange:s=>H(s.target.value),placeholder:"Write an update message for the citizen...",rows:3,className:"w-full px-3 py-2 border border-gray-300 bg-white text-gray-900 placeholder-gray-500 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 focus:outline-none transition-all duration-200 rounded-lg resize-none text-sm"}),e.jsx("button",{onClick:()=>{if(!A.trim())return;const s={message:A,timestamp:new Date().toISOString(),officer:m.name};R(a=>a.map(r=>r.id===t.id?{...r,updates:[...r.updates||[],s]}:r)),S(a=>({...a,updates:[...a.updates||[],s]})),H("")},disabled:!A.trim()||b,className:"w-full flex items-center justify-center space-x-2 px-4 py-3 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-lg hover:from-blue-700 hover:to-blue-800 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed text-sm font-medium shadow-sm",children:b?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),e.jsx("span",{children:"Sending..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(Ke,{className:"w-4 h-4"}),e.jsx("span",{children:"Send Update"})]})})]})]}),e.jsxs("div",{className:"flex space-x-2 pt-2 border-t border-gray-200",children:[e.jsxs("button",{className:"flex-1 flex items-center justify-center space-x-1 px-3 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors text-sm font-medium",children:[e.jsx(Ce,{className:"w-4 h-4"}),e.jsx("span",{children:"Export"})]}),e.jsxs("button",{className:"flex-1 flex items-center justify-center space-x-1 px-3 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors text-sm font-medium",children:[e.jsx(Se,{className:"w-4 h-4"}),e.jsx("span",{children:"Full View"})]})]})]})})]})}),b&&e.jsx("div",{className:"fixed inset-0 bg-gray-900/50 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-6 h-6 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"}),e.jsx("span",{className:"text-gray-900 font-medium",children:"Processing request..."})]})})})]})};export{ts as default};
